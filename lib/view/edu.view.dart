import 'package:flutter/material.dart';
import 'package:hoaks/util/global.color.dart';
// import 'package:share/share.dart';

class MenuUtamaPage extends StatelessWidget {
  final List<Map<String, String>> articles = [
    {
      'title': 'Cara Menghindari Hoaks di Media Sosial',
      'description':
          'Pelajari tips penting untuk mengenali berita palsu di media sosial agar tidak mudah tertipu.',
      'image':
          'https://cdnpro.eraspace.com/media/mageplaza/blog/post/d/i/digitaltech.jpg',
      'isi':
          'Hoaks atau informasi palsu di media sosial dapat menyesatkan dan merugikan banyak pihak. Untuk menghindarinya, langkah pertama yang perlu dilakukan adalah memverifikasi sumber informasi. Pastikan informasi berasal dari sumber yang terpercaya, seperti institusi resmi atau media yang kredibel, dan perhatikan alamat situs yang digunakan. Selain itu, bacalah lebih dari sekadar judul karena sering kali judul provokatif digunakan untuk menarik perhatian. Pastikan Anda membaca keseluruhan isi informasi untuk memahami konteksnya. Selanjutnya, periksa fakta dengan membandingkan informasi tersebut dengan sumber lain yang kredibel. Jangan lupa untuk mengecek keaslian gambar atau video yang disertakan dalam informasi dengan menggunakan fitur pencarian gambar terbalik, seperti Google Images. Tanggal publikasi juga penting untuk diperiksa, karena informasi lama sering kali disebarkan kembali seolah-olah baru. Anda juga perlu kritis terhadap gaya penulisan. Informasi palsu sering kali ditulis dengan tata bahasa yang buruk atau menggunakan huruf kapital secara berlebihan. Selain itu, hindarilah menyebarkan informasi tanpa terlebih dahulu memastikan kebenarannya dengan prinsip “saring sebelum sharing.” Jika menemukan informasi yang terindikasi hoaks, segera laporkan kepada platform media sosial terkait melalui fitur pelaporan yang tersedia. Untuk meningkatkan kemampuan mengenali hoaks, tingkatkan literasi digital Anda dengan bergabung dalam komunitas atau diskusi yang membahas topik ini. Dengan menerapkan langkah-langkah tersebut, Anda dapat lebih waspada terhadap hoaks dan berkontribusi dalam mencegah penyebarannya di media sosial.'
    },
    {
      'title': 'Peran Teknologi dalam Memerangi Hoaks',
      'description':
          'Bagaimana teknologi seperti AI membantu mendeteksi berita palsu dan memerangi penyebarannya.',
      'image':
          'https://pascasarjana.umsu.ac.id/wp-content/uploads/2023/05/Screenshot-2023-05-05-114423.png',
      'isi':
          'Hoaks atau informasi palsu menjadi salah satu tantangan terbesar di era digital saat ini. Penyebarannya yang begitu cepat melalui media sosial dan platform online lainnya dapat menyebabkan dampak negatif yang serius, seperti kepanikan massal, kerusuhan sosial, atau bahkan kerugian finansial. Namun, teknologi juga memiliki peran penting dalam memerangi hoaks. Salah satu alat paling efektif dalam memerangi hoaks adalah teknologi pengecekan fakta. Layanan seperti Turnbackhoax, CekFakta, atau FactCheck.org menggunakan algoritma dan sistem otomatis untuk mendeteksi informasi yang salah dan membandingkannya dengan sumber yang terpercaya. Teknologi ini mengintegrasikan data dari berbagai media, sumber berita terpercaya, dan database lainnya untuk memastikan kebenaran informasi. Pengecekan fakta ini membantu pengguna untuk lebih mudah mengidentifikasi apakah sebuah informasi itu valid atau hanya hoaks belaka. Pembelajaran mesin (machine learning) dan kecerdasan buatan (artificial intelligence) memainkan peran penting dalam memerangi hoaks. Teknologi ini memungkinkan sistem untuk secara otomatis mengidentifikasi pola-pola tertentu dalam berita palsu, seperti penggunaan kata-kata yang berlebihan, sumber yang tidak kredibel, atau gambar yang dimanipulasi. Sebagai contoh, banyak platform media sosial seperti Facebook, Twitter, dan Google telah menggunakan AI untuk mendeteksi dan menandai konten yang mencurigakan. Dengan algoritma ini, platform dapat meminimalkan penyebaran hoaks sebelum mereka viral. Teknologi pencarian gambar terbalik, seperti Google Reverse Image Search atau TinEye, memungkinkan pengguna untuk memverifikasi keaslian gambar atau video yang dibagikan secara online. Banyak hoaks yang menggunakan gambar atau video yang diambil dari peristiwa lama atau bahkan foto yang dimanipulasi. Dengan menggunakan teknologi pencarian gambar terbalik, kita dapat melacak asal usul gambar tersebut dan memastikan apakah gambar itu relevan dengan klaim yang diberikan. Hal ini membantu dalam mengidentifikasi foto atau video palsu yang digunakan untuk menyebarkan hoaks. Blockchain, yang sering dikaitkan dengan teknologi mata uang kripto, juga dapat digunakan untuk memerangi hoaks. Dengan kemampuannya untuk menyediakan jejak digital yang tidak dapat diubah, blockchain dapat digunakan untuk memastikan keaslian dan integritas informasi yang disebarkan. Teknologi ini dapat digunakan untuk melacak sumber asli berita dan memastikan bahwa informasi yang disebarkan tidak mengalami perubahan atau manipulasi. Dengan demikian, blockchain memberikan transparansi yang lebih besar dalam penyebaran informasi. Media sosial juga menggunakan teknologi untuk memerangi hoaks, salah satunya melalui filter otomatis yang menandai atau menghapus konten yang melanggar kebijakan tentang berita palsu. Misalnya, Twitter dan Facebook secara aktif menandai tweet atau posting yang mengandung informasi yang tidak terverifikasi atau tidak akurat, sehingga pengguna dapat dengan mudah membedakan antara berita yang sah dan yang tidak. Selain itu, platform media sosial sering kali bekerja sama dengan organisasi pengecekan fakta untuk meninjau dan memverifikasi berita yang tersebar di platform mereka. Teknologi juga berperan dalam mendidik masyarakat tentang cara mengenali hoaks. Aplikasi dan platform pembelajaran online kini banyak menyediakan kursus atau modul untuk meningkatkan literasi digital dan media. Dengan peningkatan pemahaman tentang bagaimana hoaks bekerja dan cara memverifikasi informasi, masyarakat menjadi lebih cerdas dalam menerima dan menyebarkan informasi. Aplikasi yang memanfaatkan gamifikasi atau simulasi dapat membantu pengguna belajar mengenali hoaks dengan cara yang interaktif dan menarik. Meskipun hoaks terus berkembang dan menyebar dengan cepat, teknologi menawarkan solusi yang semakin efektif dalam memeranginya. Dari pengecekan fakta otomatis hingga algoritma kecerdasan buatan yang mendeteksi pola hoaks, teknologi memberikan alat yang kuat untuk memastikan keakuratan informasi yang kita terima dan sebarkan. Selain itu, pendidikan digital yang lebih baik dan kesadaran yang meningkat tentang pentingnya verifikasi berita juga memainkan peran penting dalam membangun ekosistem informasi yang lebih sehat. Dengan memanfaatkan teknologi secara bijak, kita dapat lebih efektif dalam melawan hoaks dan menciptakan dunia digital yang lebih aman dan terpercaya.'
    },
    {
      'title': 'Mengapa Penting Memverifikasi Berita?',
      'description':
          'Memahami dampak dari menyebarkan berita palsu dan pentingnya memverifikasi setiap informasi yang diterima.',
      'image': 'https://sulselprov.go.id/upload/post/5804a44801593.jpg',
      'isi':
          'Dalam era digital yang serba cepat seperti saat ini, informasi mengalir tanpa henti melalui berbagai platform, mulai dari media sosial hingga portal berita online. Namun, tidak semua informasi yang tersebar dapat dipercaya. Banyak berita palsu atau hoaks yang dirancang untuk menyesatkan, memecah belah, atau bahkan merugikan pihak tertentu. Oleh karena itu, memverifikasi berita menjadi langkah yang sangat penting sebelum kita menerima atau menyebarkannya lebih lanjut. Berita yang belum diverifikasi memiliki risiko tinggi mengandung informasi palsu. Ketika informasi semacam ini dibagikan tanpa pemeriksaan, dampaknya bisa sangat merugikan, baik bagi individu maupun masyarakat. Misalnya, hoaks tentang bencana alam dapat memicu kepanikan yang tidak perlu, sementara informasi palsu tentang kesehatan dapat membahayakan nyawa. Menyebarkan berita tanpa memverifikasi kebenarannya juga dapat merusak reputasi seseorang, baik secara pribadi maupun profesional. Dalam dunia kerja, misalnya, seorang profesional yang terbukti menyebarkan informasi palsu dapat kehilangan kepercayaan dari rekan kerja atau klien. Memastikan kebenaran berita sebelum membagikannya menunjukkan tanggung jawab dan integritas. Berita palsu sering kali dirancang untuk memprovokasi emosi, seperti kemarahan atau ketakutan, sehingga memicu konflik di masyarakat. Dengan memverifikasi berita, kita dapat mencegah konflik yang tidak perlu dan menjaga keharmonisan sosial. Selain itu, ketika kita memverifikasi berita sebelum membagikannya, kita turut berkontribusi dalam menciptakan ekosistem informasi yang sehat. Ini juga memberikan ruang bagi media yang kredibel untuk berkembang dan menghasilkan berita yang akurat. Proses memverifikasi berita mendorong kita untuk lebih kritis dalam mengonsumsi informasi. Hal ini secara langsung meningkatkan literasi digital, yaitu kemampuan untuk memahami, mengevaluasi, dan menggunakan informasi secara efektif. Dengan literasi digital yang baik, kita dapat lebih waspada terhadap trik manipulasi yang sering digunakan oleh penyebar berita palsu. Memverifikasi berita tidak selalu sulit. Beberapa langkah sederhana dapat membantu, seperti memeriksa sumber berita, membandingkan informasi dengan media terpercaya lainnya, mengecek keaslian gambar atau video dengan pencarian terbalik, serta membaca secara menyeluruh, bukan hanya sekadar judulnya. Kita juga dapat memanfaatkan situs pengecekan fakta yang sudah diakui, seperti turnbackhoax.id atau cekfakta.com. Memverifikasi berita adalah bentuk tanggung jawab kita sebagai pengguna media digital. Dengan memastikan kebenaran informasi sebelum menyebarkannya, kita tidak hanya melindungi diri sendiri tetapi juga orang lain dari dampak negatif berita palsu. Maka, jadilah konsumen informasi yang cerdas dan bijak dalam era digital ini.'
    },
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text(
          "Artikel Edukasi",
          style: TextStyle(color: Colors.white),
        ),
        backgroundColor: GlobalColors.button,
        iconTheme: IconThemeData(
          color: Colors.white, // Mengubah warna ikon menjadi putih
        ),
      ),
      body: Padding(
        padding: const EdgeInsets.all(12.0),
        child: ListView.builder(
          itemCount: articles.length,
          itemBuilder: (context, index) {
            return _buildArticleCard(
              context,
              articles[index]['title']!,
              articles[index]['description']!,
              articles[index]['image']!,
              articles[index]['isi']!,
            );
          },
        ),
      ),
    );
  }

  Widget _buildArticleCard(
    BuildContext context,
    String title,
    String description,
    String imageUrl,
    String isi,
  ) {
    return Card(
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(15.0),
      ),
      elevation: 5,
      margin: EdgeInsets.symmetric(vertical: 10),
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          ClipRRect(
            borderRadius: BorderRadius.only(
              topLeft: Radius.circular(15),
              topRight: Radius.circular(15),
            ),
            child: Image.network(
              imageUrl,
              width: double.infinity,
              height: 180,
              fit: BoxFit.cover,
            ),
          ),
          Padding(
            padding: const EdgeInsets.all(12.0),
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  title,
                  style: TextStyle(
                    fontSize: 18,
                    fontWeight: FontWeight.bold,
                    color: GlobalColors.button,
                  ),
                ),
                SizedBox(height: 5),
                Text(
                  description,
                  style: TextStyle(
                    fontSize: 16,
                    color: Colors.black,
                  ),
                ),
                SizedBox(height: 10),
                Align(
                  alignment: Alignment.centerRight,
                  child: TextButton(
                    onPressed: () {
                      Navigator.push(
                        context,
                        MaterialPageRoute(
                          builder: (context) => DetailArticlePage(
                            title: title,
                            imageUrl: imageUrl,
                            isi: isi,
                          ),
                        ),
                      );
                    },
                    child: Text(
                      'Baca Selengkapnya',
                      style: TextStyle(color: GlobalColors.button),
                    ),
                  ),
                ),
              ],
            ),
          ),
        ],
      ),
    );
  }
}

class DetailArticlePage extends StatefulWidget {
  final String title;
  final String isi;
  final String imageUrl;

  DetailArticlePage({
    required this.title,
    required this.isi,
    required this.imageUrl,
  });

  @override
  _DetailArticlePageState createState() => _DetailArticlePageState();
}

class _DetailArticlePageState extends State<DetailArticlePage> {
  double fontSize = 16;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.white,
      appBar: AppBar(
        title: const Text(
          "Artikel Edukasi",
          style: TextStyle(color: Colors.white),
        ),
        backgroundColor: GlobalColors.button,
        iconTheme: IconThemeData(
          color: Colors.white, // Mengubah warna ikon menjadi putih
        ),
      ),
      body: SingleChildScrollView(
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            ClipRRect(
              borderRadius: BorderRadius.only(
                bottomLeft: Radius.circular(20),
                bottomRight: Radius.circular(20),
              ),
              child: Image.network(
                widget.imageUrl,
                width: double.infinity,
                height: 220,
                fit: BoxFit.cover,
              ),
            ),
            Padding(
              padding: const EdgeInsets.all(16.0),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text(
                    widget.title,
                    style: TextStyle(
                      fontSize: 24,
                      fontWeight: FontWeight.bold,
                      color: const Color.fromARGB(255, 0, 0, 0),
                    ),
                  ),
                  SizedBox(height: 8),
                  Text(
                    'Dipublikasikan pada ${DateTime.now().toString().split(' ')[0]}',
                    style: TextStyle(
                      fontSize: 14,
                      color: Colors.grey[600],
                    ),
                  ),
                  SizedBox(height: 16),
                  Row(
                    mainAxisAlignment: MainAxisAlignment.spaceBetween,
                    children: [
                      Text(
                        'Atur Ukuran Teks:',
                        style: TextStyle(
                          fontSize: 14,
                          color: Colors.grey[800],
                          fontWeight: FontWeight.bold,
                        ),
                      ),
                      Row(
                        children: [
                          IconButton(
                            icon: Icon(Icons.text_decrease),
                            onPressed: () {
                              setState(() {
                                if (fontSize > 12) fontSize -= 2;
                              });
                            },
                          ),
                          IconButton(
                            icon: Icon(Icons.text_increase),
                            onPressed: () {
                              setState(() {
                                if (fontSize < 24) fontSize += 2;
                              });
                            },
                          ),
                        ],
                      ),
                    ],
                  ),
                  SizedBox(height: 16),
                  Text(
                    widget.isi,
                    style: TextStyle(fontSize: fontSize, color: Colors.black),
                    textAlign:
                        TextAlign.justify, // Menambahkan ini untuk justify text
                  ),

                  SizedBox(height: 20),
                  // ElevatedButton.icon(
                  //   onPressed: () {
                  //     Share.share('Baca artikel menarik ini: ${widget.title}\n\n${widget.isi}');
                  //   },
                  //   icon: Icon(Icons.share),
                  //   label: Text('Bagikan Artikel'),
                  //   style: ElevatedButton.styleFrom(
                  //     backgroundColor: Colors.blueAccent,
                  //   ),
                  // ),
                ],
              ),
            ),
          ],
        ),
      ),
    );
  }
}
